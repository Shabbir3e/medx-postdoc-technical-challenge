# MedX Postdoctoral Technical Challenge

This repository contains my submission for the MedX technical challenge, demonstrating classification, semantic retrieval, and structured medical report generation using the PneumoniaMNIST dataset.

The implementation is designed to be reproducible, computationally efficient (CPU-compatible), and methodologically transparent.

---

## Repository Structure

- `notebooks/`  
  Jupyter notebooks implementing Task 1 (classification), Task 2 (report generation), and Task 3 (retrieval).

- `reports/`  
  Detailed technical write-ups for each task.

- `outputs/figures/`  
  Evaluation plots and retrieval examples.

- `outputs/task2_example_output.txt`  
  Example structured medical report generated by the model.

---

# Task 1 — Pneumonia Classification

Binary classification of Pneumonia vs Normal chest X-rays using a CNN trained on PneumoniaMNIST.

### Model Architecture
- 3-layer CNN
- Batch Normalization
- Dropout regularization
- BCEWithLogitsLoss
- Threshold tuning based on validation set

### Test Performance

- Accuracy: **0.8718**
- Precision: **0.8370**
- Recall: **0.9872**
- F1-score: **0.9059**
- AUC: **0.9608**
- Specificity: **0.6795**

See:
- `reports/task1_classification_report.md`
- `outputs/figures/confusion_matrix.png`

---

# Task 2 — Medical Report Generation (Vision-to-Text)

A lightweight, interpretable vision-to-text pipeline for structured clinical report generation.

### Approach

1. Pretrained ResNet18 used as frozen visual encoder
2. Lightweight classification head trained for pneumonia probability estimation
3. Structured clinical report generated conditionally on predicted probability

Rather than training a large transformer-based VLM (not feasible under CPU constraints), a structured template-based generator was implemented to ensure interpretability and reliability.

### Test Performance

- Accuracy: **0.8429**
- AUC: **0.9308**

### Output Example

A sample generated report is available in:

- `outputs/task2_example_output.txt`

Full methodology:

- `reports/task2_report_generation.md`

---

# Task 3 — Semantic Retrieval System

A FAISS-based similarity search system built using embeddings extracted from the trained CNN backbone.

### Method

- 128-dimensional embeddings from penultimate CNN layer
- L2 normalization
- FAISS `IndexFlatIP` for cosine similarity retrieval
- Relevance defined as same ground-truth class

### Retrieval Performance (Test Set)

- Precision@1: **0.8926**
- Precision@3: **0.8974**
- Precision@5: **0.8952**
- Precision@10: **0.8902**

Retrieval example:
- `outputs/figures/task3_retrieval_example.png`

---

# Summary

This submission demonstrates:

- Supervised medical image classification
- Confidence-aware structured report generation
- Embedding-based similarity learning
- FAISS indexing for efficient retrieval
- Quantitative and qualitative evaluation
- Clean experimental organization and reproducibility
- Practical handling of computational constraints

